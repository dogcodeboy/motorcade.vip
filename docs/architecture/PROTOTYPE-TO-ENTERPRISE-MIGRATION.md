# Prototype → Enterprise Migration Map (Behavior-Only)
Project: Motorcade (motorcade.vip)

Status: Authoritative Migration Plan (No Code Yet)  
Environment: AWS + Amazon Linux 2023  
Automation Authority: Ansible  
Governing Contract: docs/architecture/ENTERPRISE-WP-INTEGRATION-CONTRACT.md

This document maps existing prototype-era themes/plugins to the enterprise-grade
target components. It focuses on BEHAVIOR and RESPONSIBILITIES, not current code.

Prototype artifacts were created during a GoDaddy-oriented phase and may be
reworked, replaced, or removed. If a prototype conflicts with Ansible-first
automation, the prototype loses.

-----------------------------------------------------------------------

## 1) Current Prototype Inventory (Observed)

### A) Theme: motorcade-trust-theme
Prototype role:
- Provides a lightweight visual shell

Notes:
- No hardcoded asset paths detected
- Largely relies on injected content and WP settings

Enterprise disposition:
- KEEP AS TEMPORARY SHELL if it matches brand constraints
- Otherwise REPLACE with an enterprise theme package

Target behavior:
- Theme is purely presentation
- No asset ownership, no content creation

-----------------------------------------------------------------------

### B) Plugin: motorcade-demo-installer
Prototype role:
- “Bootstrap” helper that installs/activates plugins, creates pages/menus

Enterprise disposition:
- REPLACE with Ansible role + wp-cli tasks
Reason:
- Bootstrap must be deterministic, auditable, and environment-aware
- Plugins should not self-install other plugins in enterprise ops

Target behavior (enterprise):
- Ansible installs/updates plugins
- Ansible activates plugins
- Ansible creates menus/pages deterministically
- Ansible sets homepage and permalinks

Deliverable later:
- Ansible role: roles/wp_bootstrap/
- Playbook hook: (future) 15/16/17 wiring stages

-----------------------------------------------------------------------

### C) Plugin: motorcade-content-injector
Prototype role:
- Injects Gutenberg pages/templates
- Uses tokenized asset placeholders (e.g. {ASSET:hero-home.svg})
- Resolves assets from plugin-local /assets directory

Enterprise disposition:
- SPLIT RESPONSIBILITIES
  1) Keep “content provisioning” behavior
  2) Remove “asset ownership” behavior

Target behavior (enterprise):
- Plugin (or wp-cli scripts) may create:
  - pages
  - sections
  - block layouts
- It must NOT ship authoritative hero assets
- It must reference:
  - a stable asset base URL, OR
  - a shortcode/block that resolves approved assets

Preferred target:
- “Content Provisioner” plugin is optional; Ansible/wp-cli can do this too.
- If plugin remains, it must be idempotent and safe to re-run.

-----------------------------------------------------------------------

### D) Plugin: motorcade-brand-media-injector
Prototype role:
- Seeds logo/hero into WP uploads and Media Library
- Provides shortcodes like [motorcade_logo] and [motorcade_hero page="home"]

Enterprise disposition:
- KEEP CONCEPT, REWORK IMPLEMENTATION
Reason:
- Central brand resolution is useful, but must be manifest-driven and automated.
- Seeding placeholder SVGs is acceptable only as temporary scaffolding.

Target behavior (enterprise):
- Read a canonical mapping (generated by automation) of:
  - "hero_home" → asset URL or attachment ID
  - "hero_services" → asset URL or attachment ID
  - "logo_primary" → asset URL or attachment ID
- Provide stable shortcodes/blocks:
  - [motorcade_asset id="bg.hero.primary"]
  - [motorcade_logo variant="primary"]
- Do NOT generate assets.
- Do NOT assume a hosting provider.
- Do NOT require wp-admin clicks.

Implementation target:
- Ansible task imports approved assets into Media Library (optional)
- Plugin only resolves assets (presentation layer)

-----------------------------------------------------------------------

## 2) Enterprise Target Components (What We Build/Use Instead)

### Component 1: Ansible WP Bootstrap (Required)
Replaces:
- demo-installer behavior

Responsibilities:
- Install/activate theme
- Install/configure plugins
- Create menus/pages
- Apply permalink structure
- Set homepage
- Apply required WP options

Inputs:
- Repo docs + manifests
- Vault secrets

Output:
- Deterministic WP state

-----------------------------------------------------------------------

### Component 2: Content Provisioning (Optional)
Replaces/supersedes:
- content-injector injection logic

Options:
A) wp-cli scripts driven by a JSON/YAML page spec (preferred)
B) A minimal “Content Provisioner” plugin (acceptable if idempotent)

Responsibilities:
- Create pages and layouts
- Must not own assets
- Must be safe to re-run

-----------------------------------------------------------------------

### Component 3: Asset Resolver (Recommended)
Reworks:
- brand-media-injector concept

Responsibilities:
- Stable shortcodes/blocks to reference approved assets by ID
- Uses manifest IDs, not filenames
- Allows future migration to CloudFront without content changes

Inputs:
- assets/assets-manifest.json
- Optional: an “asset map” produced by Ansible after import

-----------------------------------------------------------------------

## 3) Phase Alignment (Staying On Course)

Phase 1 (current):
- Docs + spec + manifest + folder tree are canonical
- No binary asset generation
- No playbooks 15–18 changes

Next phase when unpaused:
- Decide whether to:
  - keep prototype theme temporarily, or replace
- Implement Ansible WP Bootstrap role
- Implement/choose content provisioning approach
- Implement asset resolver approach

-----------------------------------------------------------------------

## 4) Acceptance Criteria (Enterprise Migration Ready)

Migration is ready to begin when:
- Playbooks (future 15–18) can deploy theme + plugins without wp-admin clicks
- Pages/menus/homepage can be rebuilt deterministically
- Asset references resolve via stable IDs (manifest-driven)
- Prototype plugins are no longer required for installation or configuration

-----------------------------------------------------------------------
