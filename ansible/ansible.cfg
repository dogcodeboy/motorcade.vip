[defaults]
# Run playbooks from the ./ansible directory for deterministic relative paths.
# Default inventory now points at the real production inventory.
# This prevents runs like: ansible-playbook playbooks/20_content_structure.yml
# from accidentally using the placeholder prod.example inventory.
inventory = inventories/prod/hosts.ini
retry_files_enabled = False
host_key_checking = True

# Fix: the 'yaml' callback is not available in your current Ansible install.
# Use 'default' for broad compatibility.
stdout_callback = default

# Fix: ensure roles in ./roles are discoverable when playbooks are in ./playbooks.
roles_path = ./roles

interpreter_python = auto_silent

[ssh_connection]
pipelining = True
